{% extends 'base.html' %}
{% block title %}
    Add Post
{% endblock %}


{% block body %}
{% if not post %} 
<h1>
    Add Post for {{user.first_name + ' ' + user.last_name}} 
</h1>

<form action="{{'/users/' ~ user.id ~ '/posts/new'}}" method="POST">
    <input type="text" name="title" placeholder="Title">
    <input type="text" name="content" placeholder="Content"><br>
    <h4>
        Tag your story so others can find it:
    </h4>
    {% for tag in tags %}
        <input type="checkbox" name="tags_html" value="{{ tag.id }}">{{tag.name}}
    {% endfor %}<br>
    <button type="submit">Add Post</button>
    <a href="{{ url_for('user_page', user_id=user.id) }}">Cancel</a>
</form>

{% else %}
<h1>
   Edit Post "{{post.story_name}}"
</h1>

<form action="{{'/posts/' ~ post.id ~ '/edit'}}" method="POST">
    <input type="text" name="title" placeholder="Title" value='{{ post.story_name if post is not undefined else "" }}'>
    <input type="text" name="content" placeholder="Content" value='{{ post.story_content if post is not undefined else "" }}'>
    <a href="{{ url_for('edit_post', post_id=post.id) }}" class="btn">Cancel</button>
    <button type="submit">Update Post</button>
</form>


{% endif %}
{% endblock %}